# generated by datamodel-codegen:
#   filename:  websocket.json

from __future__ import annotations

from enum import Enum
from typing import Literal

from pydantic import BaseModel, ConfigDict, Field, RootModel


class ClientMessage3(BaseModel):
    type: Literal['ping']


class PriceLevel(BaseModel):
    price: str
    size: str


class ServerMessage5(BaseModel):
    close: str
    high: str
    low: str
    market_id: str
    open: str
    timestamp: int
    type: Literal['candle']
    volume: str


class ServerMessage7(BaseModel):
    filled_size: str
    order_id: str
    status: str
    type: Literal['user_order']


class ServerMessage8(BaseModel):
    available: str
    locked: str
    token_ticker: str
    type: Literal['user_balance']
    updated_at: int
    user_address: str


class ServerMessage9(BaseModel):
    message: str
    type: Literal['error']


class ServerMessage10(BaseModel):
    type: Literal['pong']


class Side(Enum):
    buy = 'buy'
    sell = 'sell'


class SubscriptionChannel(Enum):
    trades = 'trades'
    orderbook = 'orderbook'
    user_fills = 'user_fills'
    user_orders = 'user_orders'
    user_balances = 'user_balances'


class TradeData(BaseModel):
    buyer_address: str
    buyer_order_id: str
    id: str
    market_id: str
    price: str
    seller_address: str
    seller_order_id: str
    side: Side
    size: str
    timestamp: int


class ClientMessage1(BaseModel):
    channel: SubscriptionChannel
    market_id: str | None = None
    type: Literal['subscribe']
    user_address: str | None = None


class ClientMessage2(BaseModel):
    channel: SubscriptionChannel
    market_id: str | None = None
    type: Literal['unsubscribe']
    user_address: str | None = None


class ClientMessage(RootModel[ClientMessage1 | ClientMessage2 | ClientMessage3]):
    root: ClientMessage1 | ClientMessage2 | ClientMessage3


class OrderbookData(BaseModel):
    asks: list[PriceLevel]
    bids: list[PriceLevel]
    market_id: str


class ServerMessage1(BaseModel):
    channel: SubscriptionChannel
    market_id: str | None = None
    type: Literal['subscribed']
    user_address: str | None = None


class ServerMessage2(BaseModel):
    channel: SubscriptionChannel
    market_id: str | None = None
    type: Literal['unsubscribed']
    user_address: str | None = None


class ServerMessage3(BaseModel):
    trade: TradeData
    type: Literal['trade']


class ServerMessage4(BaseModel):
    orderbook: OrderbookData
    type: Literal['orderbook']


class ServerMessage6(BaseModel):
    trade: TradeData
    type: Literal['user_fill']


class ServerMessage(
    RootModel[
        ServerMessage1
        | ServerMessage2
        | ServerMessage3
        | ServerMessage4
        | ServerMessage5
        | ServerMessage6
        | ServerMessage7
        | ServerMessage8
        | ServerMessage9
        | ServerMessage10
    ]
):
    root: (
        ServerMessage1
        | ServerMessage2
        | ServerMessage3
        | ServerMessage4
        | ServerMessage5
        | ServerMessage6
        | ServerMessage7
        | ServerMessage8
        | ServerMessage9
        | ServerMessage10
    )


class WebSocketMessages1(BaseModel):
    model_config = ConfigDict(
        extra='forbid',
    )
    Client: ClientMessage


class WebSocketMessages2(BaseModel):
    model_config = ConfigDict(
        extra='forbid',
    )
    Server: ServerMessage


class WebSocketMessages(RootModel[WebSocketMessages1 | WebSocketMessages2]):
    root: WebSocketMessages1 | WebSocketMessages2 = Field(..., title='WebSocketMessages')
